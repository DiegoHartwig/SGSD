<!DOCTYPE html>
<ui:composition template="template/Layout.xhtml"
	xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui">

	<ui:define name="corpo">
		<h:form>
			<p:accordionPanel>
				<p:tab title="Pesquisa de Satisfação">
					<p:panel id="painelPesquisa">
						<p:dataTable id="listagem_pesquisas"
							value="#{pesquisaBean.pesquisas}" var="p"
							filteredValue="#{pesquisaBean.pesquisaFiltrada}"
							draggableColumns="true" style="margin-bottom:0" scrollable="true"
							scrollWidth="97%" paginator="true" rows="8"
							paginatorTemplate="{CurrentPageReport}  {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
							rowsPerPageTemplate="5,8,15,20" paginatorPosition="bottom"
							selection="#{pesquisaBean.pesquisaSelecionada}"
							selectionMode="single" rowKey="#{p.id}"
							paginatorAlwaysVisible="true"
							currentPageReportTemplate="{totalRecords} Avaliações"
							emptyMessage="Nenhuma avaliação registrada.">

							<p:ajax event="rowSelect" />

							<f:facet name="header">
      						 Pesquisas de Satisfação
    					</f:facet>


							<p:column style="width:110px;" filterBy="#{p.questao1}">
								<f:facet name="header">
									<h:outputText value="Avaliação do Atendimento" />
								</f:facet>
								<h:outputText value="#{p.questao1}"
									rendered="#{p.questao1 eq 'Excelente'}"
									style="color: #298F00; font-size:9pt; " />
								<h:outputText value="#{p.questao1}"
									rendered="#{p.questao1 eq 'Bom'}"
									style="color: #0588BC; font-size:9pt;" />
								<h:outputText value="#{p.questao1}"
									rendered="#{p.questao1 eq 'Regular'}"
									style="color: #CD5C5C; font-size:9pt;" />
								<h:outputText value="#{p.questao1}"
									rendered="#{p.questao1 eq 'Ruim'}"
									style="color: #FF0000	; font-size:9pt;" />
							</p:column>

							<p:column style="width:110px;" filterBy="#{p.questao2}">
								<f:facet name="header">
									<h:outputText value="Tempo de Atendimento" />
								</f:facet>
								<h:outputText value="#{p.questao2}"
									rendered="#{p.questao2 eq 'Rápido'}"
									style="color: #298F00; font-size:9pt; " />
								<h:outputText value="#{p.questao2}"
									rendered="#{p.questao2 eq 'Regular'}"
									style="color: #CD5C5C; font-size:9pt;" />
								<h:outputText value="#{p.questao2}"
									rendered="#{p.questao2 eq 'Lento'}"
									style="color: #FF0000; font-size:9pt;" />
							</p:column>

							<p:column style="width:110px;" filterBy="#{p.questao3}">
								<f:facet name="header">
									<h:outputText value="Nível de conhecimento" />
								</f:facet>
								<h:outputText value="#{p.questao3}"
									rendered="#{p.questao3 eq 'Excelente'}"
									style="color: #298F00; font-size:9pt; " />
								<h:outputText value="#{p.questao3}"
									rendered="#{p.questao3 eq 'Bom'}"
									style="color: #0588BC; font-size:9pt;" />
								<h:outputText value="#{p.questao3}"
									rendered="#{p.questao3 eq 'Regular'}"
									style="color: #CD5C5C; font-size:9pt;" />
								<h:outputText value="#{p.questao3}"
									rendered="#{p.questao3 eq 'Ruim'}"
									style="color: #FF0000	; font-size:9pt;" />
							</p:column>

							<p:column style="width:110px;" filterBy="#{p.questao4}">
								<f:facet name="header">
									<h:outputText value="Cortesia e Profissionalismo" />
								</f:facet>
								<h:outputText value="#{p.questao4}"
									rendered="#{p.questao4 eq 'Excelente'}"
									style="color: #298F00; font-size:9pt; " />
								<h:outputText value="#{p.questao4}"
									rendered="#{p.questao4 eq 'Bom'}"
									style="color: #0588BC; font-size:9pt;" />
								<h:outputText value="#{p.questao4}"
									rendered="#{p.questao4 eq 'Regular'}"
									style="color: #CD5C5C; font-size:9pt;" />
								<h:outputText value="#{p.questao4}"
									rendered="#{p.questao4 eq 'Ruim'}"
									style="color: #FF0000	; font-size:9pt;" />
							</p:column>

							<p:column style="width:120px;">
								<f:facet name="header">
									<h:outputText value="Data:" />
								</f:facet>
								<h:outputText value="#{p.data_pesquisa}"
									converter="dateConverter" />
							</p:column>

							<p:column style="width:250px;" exportable="false">
								<f:facet name="header">
									<h:outputText value="Sugestão de melhoria" />
								</f:facet>
								<h:outputText value="#{p.questao5}" />
							</p:column>


						</p:dataTable>

					</p:panel>
				</p:tab>
			</p:accordionPanel>

		</h:form>

	</ui:define>

</ui:composition>


