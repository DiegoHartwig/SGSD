<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui">

<h:head>
	<title>Service Desk</title>
	<h:outputStylesheet library="css" name="estilo.css" />
</h:head>
<h:body>
	<!-- begin header -->
	<div
		style="width: 100%; line-height: 15px; background: #296ad4; color: #fff;">
		<p:graphicImage name="/img/SGSD.png" style="width:120px; padding:5px;" />
	</div>
	<!-- end header -->
	
	<!-- begin menu -->
	<h:form>
		<p:menubar>
			<p:menuitem value="Chamados" url="/restrito/chamados.xhtml"
				icon="ui-icon-lightbulb" />
			<p:menuitem value="Usuários" url="/restrito/usuarios.xhtml"
				icon="	ui-icon-person" />
			<p:menuitem value="Técnicos" url="/restrito/tecnicos.xhtml"
				icon="ui-icon-wrench" />
			<p:menuitem value="Setores" url="/restrito/setores.xhtml"
				icon="ui-icon-home" />
			<p:menuitem value="Equipes" url="/restrito/equipes.xhtml"
				icon="ui-icon-contact" />
			<p:menuitem value="Configurações" url="/restrito/config.xhtml"
				icon="ui-icon-gear " />
			<p:menuitem value="Avaliações" url="/restrito/avaliacoes.xhtml"
				icon="ui-icon-clipboard" />
			<p:menuitem value="Sair" action="#{tecBean.logout}"
				icon="ui-icon-power" />			
			<f:facet name="options">
				<h:outputText value="Olá, " />
				<h:outputText value="#{tecBean.usuarioLog}" />											
			</f:facet>	
		</p:menubar>
	</h:form>
	<!--end menu -->

	<!-- Loading -->
	<p:ajaxStatus onstart="PF('statusDialog').show()"
		onsuccess="PF('statusDialog').hide()" />
	<p:dialog widgetVar="statusDialog" modal="true" draggable="false"
		closable="false" resizable="false" showHeader="false">
		<p:graphicImage name="/img/loader.gif" />
	</p:dialog>

	<!-- Pesquisa de satisfação dos usuários -->
	<h:form>
		<p:accordionPanel>
			<p:tab title="Pesquisa de Satisfação">
				<p:panel id="painelPesquisa">
					<p:dataTable id="listagem_pesquisas"
						value="#{pesquisaBean.pesquisas}" var="p"
						filteredValue="#{pesquisaBean.pesquisaFiltrada}"
						draggableColumns="true" style="margin-bottom:0" scrollable="true"
						scrollWidth="97%" paginator="true" rows="8"
						paginatorTemplate="{CurrentPageReport}  {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
						rowsPerPageTemplate="5,8,15,20" paginatorPosition="bottom"
						selection="#{pesquisaBean.pesquisaSelecionada}"
						selectionMode="single" rowKey="#{p.id}"
						paginatorAlwaysVisible="true"
						currentPageReportTemplate="{totalRecords} Avaliações"
						emptyMessage="Nenhuma avaliação registrada.">

						<p:ajax event="rowSelect" />

						<f:facet name="header">
      						 Pesquisas de Satisfação
    					</f:facet>


						<p:column style="width:110px;" filterBy="#{p.questao1}">
							<f:facet name="header">
								<h:outputText value="Avaliação do Atendimento" />
							</f:facet>
							<h:outputText value="#{p.questao1}"
								rendered="#{p.questao1 eq 'Excelente'}"
								style="color: #298F00; font-size:9pt; " />
							<h:outputText value="#{p.questao1}"
								rendered="#{p.questao1 eq 'Bom'}"
								style="color: #0588BC; font-size:9pt;" />
							<h:outputText value="#{p.questao1}"
								rendered="#{p.questao1 eq 'Regular'}"
								style="color: #CD5C5C; font-size:9pt;" />
							<h:outputText value="#{p.questao1}"
								rendered="#{p.questao1 eq 'Ruim'}"
								style="color: #FF0000	; font-size:9pt;" />
						</p:column>

						<p:column style="width:110px;" filterBy="#{p.questao2}">
							<f:facet name="header">
								<h:outputText value="Tempo de Atendimento" />
							</f:facet>
							<h:outputText value="#{p.questao2}"
								rendered="#{p.questao2 eq 'Rápido'}"
								style="color: #298F00; font-size:9pt; " />
							<h:outputText value="#{p.questao2}"
								rendered="#{p.questao2 eq 'Regular'}"
								style="color: #CD5C5C; font-size:9pt;" />
							<h:outputText value="#{p.questao2}"
								rendered="#{p.questao2 eq 'Lento'}"
								style="color: #FF0000; font-size:9pt;" />
						</p:column>

						<p:column style="width:110px;" filterBy="#{p.questao3}">
							<f:facet name="header">
								<h:outputText value="Nível de conhecimento" />
							</f:facet>
							<h:outputText value="#{p.questao3}"
								rendered="#{p.questao3 eq 'Excelente'}"
								style="color: #298F00; font-size:9pt; " />
							<h:outputText value="#{p.questao3}"
								rendered="#{p.questao3 eq 'Bom'}"
								style="color: #0588BC; font-size:9pt;" />
							<h:outputText value="#{p.questao3}"
								rendered="#{p.questao3 eq 'Regular'}"
								style="color: #CD5C5C; font-size:9pt;" />
							<h:outputText value="#{p.questao3}"
								rendered="#{p.questao3 eq 'Ruim'}"
								style="color: #FF0000	; font-size:9pt;" />
						</p:column>

						<p:column style="width:110px;" filterBy="#{p.questao4}">
							<f:facet name="header">
								<h:outputText value="Cortesia e Profissionalismo" />
							</f:facet>
							<h:outputText value="#{p.questao4}"
								rendered="#{p.questao4 eq 'Excelente'}"
								style="color: #298F00; font-size:9pt; " />
							<h:outputText value="#{p.questao4}"
								rendered="#{p.questao4 eq 'Bom'}"
								style="color: #0588BC; font-size:9pt;" />
							<h:outputText value="#{p.questao4}"
								rendered="#{p.questao4 eq 'Regular'}"
								style="color: #CD5C5C; font-size:9pt;" />
							<h:outputText value="#{p.questao4}"
								rendered="#{p.questao4 eq 'Ruim'}"
								style="color: #FF0000	; font-size:9pt;" />
						</p:column>

						<p:column style="width:120px;">
							<f:facet name="header">
								<h:outputText value="Data:" />
							</f:facet>
							<h:outputText value="#{p.data_pesquisa}"
								converter="dateConverter" />
						</p:column>

						<p:column style="width:250px;" exportable="false">
							<f:facet name="header">
								<h:outputText value="Sugestão de melhoria" />
							</f:facet>
							<h:outputText value="#{p.questao5}" />
						</p:column>


					</p:dataTable>

				</p:panel>
			</p:tab>
		</p:accordionPanel>

	</h:form>

</h:body>
</html>


